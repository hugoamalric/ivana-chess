ivana_chess:
  version: 0.1.0
  root_dir: /opt/ivana-chess
  hostname: "{{ ansible_hostname }}"

ivana_chess_api:
  version: "{{ ivana_chess.version }}"
  root_dir: "{{ ivana_chess.root_dir }}/api"
  user: ivanachess
  group: ivanachess
  hostname: "{{ ivana_chess.hostname }}"
  context_path: api
  server_name: ivana-chess-api
  logging:
    level: info
    max_file_size: 25MB
    max_history: 30
    max_total_size: 250MB
  props:
    server:
      bind_address: 127.0.0.1
      port: 8080
      allowed_origins: "http{{ nginx.tls.enabled | ternary('s', '') }}://{{ ivana_chess_webapp.hostname }}{{ (ivana_chess_webapp.context_path == '') | ternary('', '/' + ivana_chess_webapp.context_path) }}"

ivana_chess_webapp:
  version: "{{ ivana_chess.version }}"
  root_dir: "{{ ivana_chess.root_dir }}/webapp"
  user: www-data
  group: www-data
  hostname: "{{ ivana_chess.hostname }}"
  context_path: ''

nginx:
  server_name: "{{ ansible_hostname }}"
  tls:
    enabled: no
    # fullchain_cert:
    # cert_key:
